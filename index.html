<html>

    <head>
        <title>STEM Directory</title>
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="assets/css/weather-icons.min.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed|Roboto+Mono" rel="stylesheet">
    </head>
    
     
    
    <header>
        <a onClick="closeVid();">
        <video autoplay muted loop id="videoPlayer">
          <source src="images/bg.mp4" type="video/mp4">
            </video></a>
        <a onClick="closeVid();"><div id="vidOverlay">
            <center><h1>Touch to Navigate <br>Touchez pour naviguer</h1></center>
            </div></a>
    </header>
    
    <body>
        <div class="marqueeBar">
            <marquee id="news"></marquee>
        </div>
        <nav>
            <center>
                <div id="nav_widgets">
                    <i id="weather" class="wi wi-day-cloudy"></i>
                    <div id="time"></div>
                </div>
                <hr>
                <input type="button" value="MAKERSPACE" class="nav_button" onClick="makerspace()">
                <input type="button" value="MAKERLAB" class="nav_button" onClick="">
                <input type="button" value="BRUNSFIELD" class="nav_button" onClick="">
                <input type="button" value="MTC" class="nav_button" onClick="">
                <input type="button" value="PITS" class="nav_button" onClick="">
                <input type="button" value="SANDBOX" class="nav_button" onClick="">
                <input type="button" value="SIMON NEHME DESIGN COMMONS" class="nav_button" onClick="">
                <input type="button" value="E-HUB" class="nav_button" onClick="">
                <input type="button" value="MAKERSTORE" style="color:lawngreen; border-color: lawngreen;" class="nav_button" onClick="">
                <hr>
                <input id="ocshed" type="button" value="OC Transpo Schedules" class="special_button" onClick="">
            </center>
        </nav>
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <span class="close" style="margin: 10px;">&times;</span>
                <p style="margin: 10px;">OC Transpo Schedule at stop <i>KING EDWARD & TEMPLETON (6782)</i>:</p>
                
            </div>
        </div>
        
        <div>
            <img id="default" src="images/standardmap.gif" style="position: absolute;z-index: -2;  transform: translate(20%, 0); height: 100%;z-index: -20;">
            <img id="makerspace" src="images/makerspace.gif" style="position: absolute;z-index: -2;  transform: translate(20%, 0); height: 100%;z-index: -20;">
            <script>document.getElementById("makerspace").style.display='none';</script>
        </div>
    
    </body>
    
    <script>
        
        function makerspace(){
            var element = document.getElementById("makerspace");
            var element2 = document.getElementById("default");
            var op = 0; 
            var op2 = 1; 
            element.style.display = 'block';
            element.style.opacity=100;
            element2.style.display = 'none';
            element2.style.opacity=0;
        }
        
        var newsScroll = document.getElementById("news");
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var obj = JSON.parse(this.responseText);
                for(var i=0; i<obj.news.length;i++){
                    newsScroll.innerHTML = newsScroll.innerHTML + "\240\240\240\240\240\u2605\240\240\240\240\240" + obj.news[i];
                }
            }
        };
        xmlhttp.open("GET", "assets/data/news.txt", true);
        xmlhttp.send();
        
        function closeVid(){
            var element = document.getElementById("videoPlayer");
            var element2 = document.getElementById("vidOverlay");
            var op = 1; 
            var timer = setInterval(function () {
                if (op <= 0.1){
                    clearInterval(timer);
                    element.style.display = 'none';
                    element2.style.display = 'none';
                }
                element.style.opacity = op;
                element2.style.opacity = op;
                element.style.filter = 'alpha(opacity=' + op * 100 + ")";
                element2.style.filter = 'alpha(opacity=' + op * 100 + ")";
                op -= op * 0.1;
            }, 50);
        }
        
        
        
        //Time Widget
        function checkTime(i) {
          if (i < 10) {
            i = "0" + i;
          }
          return i;
        }

        function startTime() {
          var today = new Date();
          var h = today.getHours();
          var m = today.getMinutes();
          var s = today.getSeconds();
          // add a zero in front of numbers<10
          m = checkTime(m);
          s = checkTime(s);
          document.getElementById('time').innerHTML = h + ":" + m + ":" + s;
          t = setTimeout(function() {
            startTime()
          }, 500);
        }
        startTime();
        
        
        //Modal
        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the button that opens the modal
        var btn = document.getElementById("ocshed");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function() {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
        
        
        
        
    
    </script>
    <!--<img class="bg" src="images/floorplan.jpg">-->
    
    <!-- Scripts -->
    <script type="text/javascript" src="assets/js/twitterFetcher_min.js"></script>
    <script type="text/javascript" src="assets/js/exampleUsage.js"></script>

</html>